{
  "name": "Scala Dev Container",

  "build": {
    "dockerfile": "Dockerfile"
  },

  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {},
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/node:1": {}
  },

  "workspaceFolder": "/workspace",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind",

  "settings": {
    "metals.javaHome": "/usr/local/openjdk-17",
    "files.watcherExclude": {
      "**/target": true
    }
  },

  "extensions": [
    "scalameta.metals",
    "scala-lang.scala",
    "ms-vscode.sbt-scala",
    "ms-vscode.java-debug"
  ],

  "postCreateCommand": "cs install scala sbt",

  "remoteUser": "vscode"
}
